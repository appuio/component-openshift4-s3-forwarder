apiVersion: v1
data:
  fluentd-loglevel: info
  s3-bucket: ''
  s3-endpoint: ''
  s3-interval: 5m
  td-agent.conf: "<system>\n  log_level \"#{ENV['LOG_LEVEL']}\"\n</system>\n<source>\n\
    \  @type forward\n  port 24224\n  null\n  <security>\n    shared_key \"#{ENV['SHARED_KEY']}\"\
    \n    self_hostname \"#{ENV['HOSTNAME']}\"\n  </security>\n</source>\n<match **>\n\
    \  @type s3\n  <format>\n    @type json\n  </format>\n  aws_key_id \"#{ENV['S3_ACCESS_KEY']}\"\
    \n  aws_sec_key \"#{ENV['S3_SECRET_KEY']}\"\n  s3_bucket \"#{ENV['S3_BUCKET']}\"\
    \n  s3_endpoint \"#{ENV['S3_ENDPOINT']}\"\n  path %Y-%m-%d/\n  time_slice_format\
    \ %Y-%m-%d_%H%M\n  <buffer time>\n    @type memory\n    path /fluentd/log/s3/\n\
    \    compress text\n    chunk_limit_size 256m\n    timekey \"#{ENV['S3_INTERVAL']}\"\
    \n    timekey_wait 1m\n    timekey_use_utc true\n  </buffer>\n</match>\n"
kind: ConfigMap
metadata:
  annotations: {}
  labels:
    name: openshift4-s3-forwarder
  name: openshift4-s3-forwarder
